<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-5">
      <form class="m-5 p-5">
        <div class="d-flex justify-content-around">
          @if(!update){
            <h2>Add Product</h2>
          }@else {        
            <h2>Update Product</h2>
          }
        </div>
        <div class="font">
        <div class="mb-3 p-3">
          <label class="form-label">Product Name</label>
          <input type="text" class="form-control"  [(ngModel)] = "name"  name="name" required>
        </div>
        <div class="mb-3 p-3">
          <label class="form-label">Product Price</label>
          <input type="number"  class="form-control" [(ngModel)] = "price"  name="price"  required>
        </div>
        @if(!update){
            <div class="d-flex justify-content-around mt-5">
              <button id="addBtn" type="submit" class="btn btn-primary" (click)="addPdt()">Add Product</button>
            </div>
          }@else {
            <div class="d-flex justify-content-around mt-5">
              <button id="addBtn" type="submit" class="btn btn-primary" (click)="updateInArray()">Update Product</button>
            </div>
        }
        </div>
      </form>
      <p class="alert alert-danger" *ngIf="areEmptyFields">Product's Name and Price are required fields!</p>

</div><div></div>
@if (products.length > 0) {
  
<div class="col-md-9">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Product Name</th>
        <th scope="col">Price</th>     
        <th scope="col">Actions</th>
      </tr>
    </thead>
  <tbody>
  @for (product of products; track $index){
      <tr>
      <th scope="row">{{$index + 1}}</th>
        <td>{{ product.name }}</td>
        <td>{{ product.price }}</td>
        <td>
          <button id="updatePdt" type="submit" class="btn btn-primary me-1" (click)="updatePdt($index)">Update</button>
          <button id="deletePdt" type="submit" class="btn btn-primary" (click)="deletePdt($index)">Delete</button>
        </td>
      </tr>
  }
  </tbody>
  </table>
  </div>

}@else {
  <div class="col-md-5">
    <p class="alert alert-info">No Products</p>
  </div>
}
